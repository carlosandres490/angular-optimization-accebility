<div class="character-container">
  <h1 id="page-title">Explore the Multiverse</h1>
  <p class="subtitle">Discover all the crazy characters from Rick and Morty!</p>
  
  <output *ngIf="loading" class="loading" aria-live="polite">
    <div class="portal-loader" aria-hidden="true">
      <div class="portal-ring"></div>
      <div class="portal-ring"></div>
      <div class="portal-ring"></div>
    </div>
    <p>Loading characters from the multiverse...</p>
  </output>
  
  <div *ngIf="error" class="error" role="alert" aria-live="assertive">
    <p>{{ error }}</p>
    <button (click)="loadCharacters(currentPage)" 
            class="retry-btn"
            aria-label="Retry loading characters">
      Try Again
    </button>
  </div>
  
  <div *ngIf="!loading && !error">
    <section aria-labelledby="page-title">
      <ul class="characters-grid" 
          aria-label="Rick and Morty characters">
        <li *ngFor="let character of characters; let i = index" 
            class="character-card"
            [attr.aria-label]="getStatusAnnouncement(character)">
          <div class="character-image-container">
            <img [src]="character.image" 
                 [alt]="character.name + ' character'" 
                 class="character-image">
            <div class="character-overlay">
              <span class="status-indicator" 
                    [ngClass]="getStatusClass(character.status)"
                    [attr.aria-label]="'Status: ' + character.status">
                {{ character.status }}
              </span>
            </div>
          </div>
          <div class="character-info">
            <h3 class="character-name">{{ character.name }}</h3>
            <div class="character-details">
              <div class="detail-row">
                <span class="detail-label">Species:</span>
                <span class="detail-value">{{ character.species }}</span>
              </div>
              <div class="detail-row" *ngIf="character.type">
                <span class="detail-label">Type:</span>
                <span class="detail-value">{{ character.type }}</span>
              </div>
              <div class="detail-row">
                <span class="detail-label">Gender:</span>
                <span class="detail-value">{{ character.gender }}</span>
              </div>
              <div class="location-info">
                <p class="location">
                  <strong>Last known location:</strong><br>
                  <span class="location-name">{{ character.location.name }}</span>
                </p>
                <p class="origin">
                  <strong>First seen in:</strong><br>
                  <span class="origin-name">{{ character.origin.name }}</span>
                </p>
              </div>
            </div>
          </div>
        </li>
      </ul>
    </section>
    
    <nav class="pagination" 
         role="navigation" 
         aria-label="Character pagination"
         *ngIf="totalPages > 1">
      <button (click)="previousPage()" 
              [disabled]="currentPage === 1"
              class="pagination-btn prev-btn"
              [attr.aria-label]="'Go to previous page, page ' + (currentPage - 1)">
        ← Previous
      </button>
      
      <output class="page-info" 
           aria-live="polite"
           [attr.aria-label]="'Page ' + currentPage + ' of ' + totalPages">
        <span class="page-current">{{ currentPage }}</span>
        <span class="page-separator">of</span>
        <span class="page-total">{{ totalPages }}</span>
      </output>
      
      <button (click)="nextPage()" 
              [disabled]="currentPage === totalPages"
              class="pagination-btn next-btn"
              [attr.aria-label]="'Go to next page, page ' + (currentPage + 1)">
        Next →
      </button>
    </nav>
  </div>
</div>
